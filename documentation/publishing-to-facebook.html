<!DOCTYPE html>
<!--[if lt IE 7]>		<html class="no-js ie6"> <![endif]-->
<!--[if IE 7]>			<html class="no-js ie7"> <![endif]-->
<!--[if IE 8]>			<html class="no-js ie8"> <![endif]-->
<!--[if IE 8]>			<html class="no-js ie9"> <![endif]-->
<!--[if gt IE 9]><!-->	<html class="no-js"> <!--<![endif]-->
	<head lang="en">
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<title>Publishing to Facebook | Fbc | Solspace Addon Documentation</title>
		<meta name="description" content="" />
		<meta name="copyright" content="(c) 2010 Copyright content: Copyright design: Solspace, Inc."/>
		<meta name="viewport" content="width=device-width" />
		<link rel="stylesheet" href="assets/css/normalize.css" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<link rel="stylesheet" type="text/css" href="assets/fancybox/jquery.fancybox-1.3.4.css" />
		<link href="assets/syntaxhighlighter/styles/shCore.css" rel="stylesheet" type="text/css" />
		<link href="assets/syntaxhighlighter/styles/shThemeDefault.css" rel="stylesheet" type="text/css" />
		<script src="assets/js/modernizr.min.js"></script>
	</head>
	<body>
		<!--[if lt IE 8]>
			<p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
		<![endif]-->

		<header>
			<div class="header-inner">
				<div class="logo">
					<img src="assets/images/logo.png" />
				</div>

				<div class="bread_crumbs">
					<ul class="crumbs">
						<li class="first"><a href="index.html">Fbc</a></li>
						<li>Publishing to Facebook</li>
					</ul>
				</div>
			</div>
		</header>

		<div class="content-wrapper">
			<nav class="toc">
				<ul>
<li><h3>Setup</h3>

<ul>
<li><a href="installation.html">Installation</a></li>
<li><a href="updates.html">Updates</a></li>
</ul></li>
<li><h3>Getting Started</h3>

<ul>
<li><a href="control-panel.html">Control Panel</a></li>
<li><a href="creating-a-facebook-app.html">Creating a Facebook App</a></li>
<li><a href="overview-important-notes.html">Overview &amp; Important Notes</a></li>
<li><a href="behind-the-scenes.html">Behind the Scenes</a></li>
<li class="current"><a href="publishing-to-facebook.html">Publishing to Facebook</a></li>
</ul></li>
<li><h3>Templating</h3>

<ul>
<li><a href="account-sync-form.html">Account Sync Form</a></li>
<li><a href="fb-comments-box.html">FB Comments Box</a></li>
<li><a href="fb-like-button.html">FB Like Button</a></li>
<li><a href="login.html">Login</a></li>
<li><a href="login-status.html">Login Status</a></li>
<li><a href="member-data.html">Member Data</a></li>
<li><a href="permissions.html">Permissions</a></li>
<li><a href="prepare-page.html">Prepare Page</a></li>
<li><a href="set-permissions.html">Set Permissions</a></li>
</ul></li>
</ul>
			</nav>

			<article class="docs">
				<h1>Publishing EE Content to Facebook</h1>

<p>Solspace Facebook Connect allows your users to publish content to their Facebook profiles, providing they grant your site proper privileges. Privileges are set at first Facebook <a href="login.html">Login</a> and/or afterwards using the <a href="set-permissions.html">Set Permissions</a> on your site. Permissions can also be controlled (revoked) by the user in the <a href="https://www.facebook.com/settings?tab=applications">Apps area in their Account Settings on Facebook site</a>.</p>

<p>To determine which permissions have been set for the user, you can do so with the <a href="permissions.html">Permissions</a> template tag. The specific setting you need to look at is <strong>publish_actions</strong>, which allows your users to publish data from your site onto their Facebook profile.</p>

<p>Facebook Connect currently allows your users to publish the following EE items onto Facebook:</p>

<ul>
<li><a href="https://docs.expressionengine.com/v3/comment/#comment-submission-form">EE Comments form</a></li>
<li><a href="https://solspace.com/expressionengine/rating/docs/form">Solspace Rating form</a></li>
<li><a href="https://solspace.com/expressionengine/friends/docs/status_form">Solspace Friends Status updates</a></li>
</ul>

<p>You simply add a checkbox to the applicable submission form, allowing the user to ALSO publish the EE content they're submitting to their Facebook profile. Only text and an image can be sent - HTML and PHP are stripped. For EE Comments, if a given channel has been supplied with a search excerpt field in the channel settings, that field's contents will also be sent to Facebook.</p>

<p><img src="images/fbc_docs_publishing.gif" alt="" /></p>

<ul>
<li><a href="#form_fields">Form Fields</a></li>
<li><a href="#examples">Examples</a></li>
</ul>

<p><a name="form_fields"></a></p>

<h2>Form Fields</h2>

<p>The following form fields are available for use:</p>

<ul>
<li><a href="#fbc_publish_to_facebook">fbc_publish_to_facebook</a></li>
<li><a href="#fbc_image_attachment">fbc_image_attachment</a></li>
<li><a href="#fbc_rating_comment_format">fbc_rating_comment_format</a></li>
</ul>

<p><a name="fbc_publish_to_facebook"></a></p>

<h3>fbc_publish_to_facebook</h3>

<pre class="brush: html;">&lt;input
    type="checkbox"
    name="fbc_publish_to_facebook"
    id="fbc_publish_to_facebook"
    value="y"
/&gt;
&lt;label for="fbc_publish_to_facebook"&gt;
    Also publish to my Facebook Profile?
&lt;/label&gt;
</pre>

<p>Providing the user has granted Facebook <strong>publish_actions</strong> access to your site, when this checkbox is checked, upon form submit, the content will be posted to both your EE site, and the users Facebook profile.</p>

<p><a name="fbc_image_attachment"></a></p>

<h3>fbc_image_attachment</h3>

<pre class="brush: html;">&lt;input
    type="hidden"
    name="fbc_image_attachment"
    value="http://www.yoursite.com/images/photo.jpg"
/&gt;
</pre>

<p>If you wish to send an image over to Facebook as well (with the comment, etc), this field should contain a reference to a URL of an image.</p>

<p><a name="fbc_rating_comment_format"></a></p>

<h3>fbc_rating_comment_format</h3>

<pre class="brush: html;">&lt;input
    type="hidden"
    name="fbc_rating_comment_format"
    value="I thought the quality of the food at this
    restaurant was a {fbc_quality_of_food} out of 5."
/&gt;
&lt;input
    type="hidden"
    name="fbc_rating_comment_format"
    value="I gave this {fbc_rating} out of 5 stars. {fbc_review}"
/&gt;
</pre>

<p>This field is available to assist in formatting the display of the <a href="https://solspace.com/expressionengine/rating/docs">Solspace Rating</a> review contents when published to Facebook. All of the Rating fields submitted by the user are available as variables with <em>fbc_</em> as a prefix. No HTML is allowed.</p>

<p><a name="examples"></a></p>

<h2>Examples</h2>

<p><a name="friends_status_form"></a></p>

<h3>Friends Status Form</h3>

<p>The following example is how you would publish Solspace Friends add-on status updates to Facebook with your <a href="https://solspace.com/expressionengine/friends/docs/status_form">Friends Status Form</a>:</p>

<pre class="brush: html;">&lt;h3&gt;Submit a new Status:&lt;/h3&gt;
{exp:friends:status_form
    return="friends/status"
}
&lt;p&gt;
    {friends_screen_name}
    &lt;input type="text" name="friends_status" value="" /&gt;
    &lt;input type="submit" name="submit" value="Add" /&gt;
&lt;/p&gt;
{exp:fbc:permissions}
    {if fbc_allow_publish_actions == "y"}
        &lt;p&gt;
            &lt;input
                type="checkbox"
                name="fbc_publish_to_facebook"
                id="fbc_publish_to_facebook" value="y"
            /&gt;
            &lt;label for="fbc_publish_to_facebook"&gt;
                Also Publish to my Facebook Profile
            &lt;/label&gt;
        &lt;/p&gt;
    {if:else}
        &lt;p&gt;
            You currently don't have the correct permissions
            set to allow publishing to your Facebook profile
            from this site.
        &lt;/p&gt;
    {/if}
{/exp:fbc:permissions}
{/exp:friends:status_form}
</pre>

<p><a name="ee_comment_form"></a></p>

<h3>EE Comment Form</h3>

<p>The following example is how you would publish entry comments to Facebook with your <a href="https://docs.expressionengine.com/v3/comment/#comment-submission-form">EE Comment Form</a>:</p>

<pre class="brush: html;">&lt;h3&gt;Post a Comment&lt;/h3&gt;
{exp:comment:form}
&lt;p&gt;
    &lt;textarea name="comment" cols="50" rows="6"&gt;{comment}&lt;/textarea&gt;
&lt;/p&gt;
&lt;p&gt;
    &lt;input type="checkbox" name="notify_me" value="yes" {notify_me} /&gt;
    Notify me of follow-up comments?
&lt;/p&gt;
{exp:fbc:permissions}
    {if fbc_allow_publish_actions == "y"}
        &lt;p&gt;
            &lt;input
                type="checkbox"
                name="fbc_publish_to_facebook"
                id="fbc_publish_to_facebook"
                value="y"
            /&gt;
            &lt;label for="fbc_publish_to_facebook"&gt;
                Also Publish to my Facebook Profile
            &lt;/label&gt;
        &lt;/p&gt;
    {if:else}
        &lt;p&gt;
            You currently don't have the correct permissions
            set to allow publishing to your Facebook profile
            from this site.
        &lt;/p&gt;
    {/if}
{/exp:fbc:permissions}
&lt;input type="submit" name="submit" value="Submit" /&gt;
{/exp:comment:form}
</pre>

<p><a name="rating_form"></a></p>

<h3>Rating Form</h3>

<p>The following example is how you would publish Solspace Rating ratings/reviews to Facebook with your <a href="https://solspace.com/expressionengine/rating/docs/form">Rating form</a>:</p>

<pre class="brush: html;">&lt;h3&gt;Submit a Rating for this Entry:&lt;/h3&gt;
{exp:rating:form
    entry_id="{segment_3}"
    collection="Hotel Reviews"
    return="rating/thanks"
}
    &lt;p&gt;
        &lt;label for="rating"&gt;Your Rating:&lt;/label&gt;
        &lt;select name="rating" id="rating"&gt;
            &lt;option value="1"&gt;1&lt;/option&gt;
            &lt;option value="2"&gt;2&lt;/option&gt;
            &lt;option value="3"&gt;3&lt;/option&gt;
            &lt;option value="4"&gt;4&lt;/option&gt;
            &lt;option value="5"&gt;5&lt;/option&gt;
        &lt;/select&gt;
    &lt;/p&gt;
    &lt;p&gt;
        &lt;label for="review"&gt;Your Review:&lt;/label&gt;&lt;br /&gt;
        &lt;textarea name="review" id="review" rows="10" cols="40"&gt;&lt;/textarea&gt;
    &lt;/p&gt;
    {exp:fbc:permissions}
        {if fbc_allow_publish_actions == "y"}
            &lt;p&gt;
                &lt;input
                    type="checkbox"
                    name="fbc_publish_to_facebook"
                    id="fbc_publish_to_facebook"
                    value="y"
                /&gt;
                &lt;label for="fbc_publish_to_facebook"&gt;
                    Also Publish to my Facebook Profile
                &lt;/label&gt;
            &lt;/p&gt;
        {if:else}
            &lt;p&gt;
                You currently dont have the correct permissions
                set to allow publishing to your Facebook profile
                from this site.
            &lt;/p&gt;
        {/if}
    {/exp:fbc:permissions}
    &lt;div style="display:none;"&gt;
        &lt;!-- hides textarea from visibility, which allows linebreaks for your wording --&gt;
        &lt;textarea name="fbc_rating_comment_format"&gt;I gave this {fbc_rating} out of 5 stars.

        {fbc_review}&lt;/textarea&gt;
        &lt;!-- handles wording and formatting for Facebook profile --&gt;
    &lt;/div&gt;
    &lt;p&gt;&lt;input type="submit" name="submit" value="Submit!" /&gt;&lt;/p&gt;
{/exp:rating:form}
</pre>
			</article>
		</div>

		<script src="assets/js/jquery.min.js"></script>
		<script src="assets/fancybox/jquery.fancybox-1.3.4.pack.js"></script>
		<script src="assets/syntaxhighlighter/scripts/shCore.js"></script>
		<script src="assets/syntaxhighlighter/scripts/shAutoloader.js"></script>
		<script src="assets/js/main.js"></script>
	</body>
</html>