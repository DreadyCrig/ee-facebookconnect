<!DOCTYPE html>
<!--[if lt IE 7]>		<html class="no-js ie6"> <![endif]-->
<!--[if IE 7]>			<html class="no-js ie7"> <![endif]-->
<!--[if IE 8]>			<html class="no-js ie8"> <![endif]-->
<!--[if IE 8]>			<html class="no-js ie9"> <![endif]-->
<!--[if gt IE 9]><!-->	<html class="no-js"> <!--<![endif]-->
	<head lang="en">
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<title>Account Sync Form | Fbc | Solspace Addon Documentation</title>
		<meta name="description" content="" />
		<meta name="copyright" content="(c) 2010 Copyright content: Copyright design: Solspace, Inc."/>
		<meta name="viewport" content="width=device-width" />
		<link rel="stylesheet" href="assets/css/normalize.css" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<link rel="stylesheet" type="text/css" href="assets/fancybox/jquery.fancybox-1.3.4.css" />
		<link href="assets/syntaxhighlighter/styles/shCore.css" rel="stylesheet" type="text/css" />
		<link href="assets/syntaxhighlighter/styles/shThemeDefault.css" rel="stylesheet" type="text/css" />
		<script src="assets/js/modernizr.min.js"></script>
	</head>
	<body>
		<!--[if lt IE 8]>
			<p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
		<![endif]-->

		<header>
			<div class="header-inner">
				<div class="logo">
					<img src="assets/images/logo.png" />
				</div>

				<div class="bread_crumbs">
					<ul class="crumbs">
						<li class="first"><a href="index.html">Fbc</a></li>
						<li>Account Sync Form</li>
					</ul>
				</div>
			</div>
		</header>

		<div class="content-wrapper">
			<nav class="toc">
				<ul>
<li><h3>Setup</h3>

<ul>
<li><a href="installation.html">Installation</a></li>
<li><a href="updates.html">Updates</a></li>
</ul></li>
<li><h3>Getting Started</h3>

<ul>
<li><a href="control-panel.html">Control Panel</a></li>
<li><a href="creating-a-facebook-app.html">Creating a Facebook App</a></li>
<li><a href="overview-important-notes.html">Overview &amp; Important Notes</a></li>
<li><a href="behind-the-scenes.html">Behind the Scenes</a></li>
<li><a href="publishing-to-facebook.html">Publishing to Facebook</a></li>
</ul></li>
<li><h3>Templating</h3>

<ul>
<li class="current"><a href="account-sync-form.html">Account Sync Form</a></li>
<li><a href="fb-comments-box.html">FB Comments Box</a></li>
<li><a href="fb-like-button.html">FB Like Button</a></li>
<li><a href="login.html">Login</a></li>
<li><a href="login-status.html">Login Status</a></li>
<li><a href="member-data.html">Member Data</a></li>
<li><a href="permissions.html">Permissions</a></li>
<li><a href="prepare-page.html">Prepare Page</a></li>
<li><a href="set-permissions.html">Set Permissions</a></li>
</ul></li>
</ul>
			</nav>

			<article class="docs">
				<h1>FBC:Account_Sync_Form template tag</h1>

<p>The <em>Account_Sync_Form</em> tag allows you to add an extra step in your Facebook login/registration process. This is beneficial if you want to have a page that explains the process in more detail, or if you want to intercept users from creating a new account when they may already have an existing EE account that just needs to be connected/synced.</p>

<p>In order for this additional step to happen, you need to have the <strong>Confirm Account Sync</strong> preference set to <em>Yes</em> in the FBC control panel, and then add the
<a href="login.html#return_to_confirm_account_sync">return_to_confirm_account_sync</a> parameter to your <a href="login.html">Login button</a> tag. Users must also be logged into ExpressionEngine at this time for this process to work.</p>

<p>The <em>Account_Sync_Form</em> tag also allows you to create a method that allows users to disconnect your site from their Facebook account. They simply submit the form (in unsync mode). If they want to completely untie their account from your site, they'll still need to go to their <a href="https://www.facebook.com/settings?tab=applications">Apps area in Account Settings on Facebook</a> and remove your site from the list. It's recommended that you provide these instructions to the user on your site.</p>

<p><a href="images/fbc_unsync_facebook.jpg"><img src="images/fbc_unsync_facebook.jpg" alt="" /></a></p>

<pre class="brush: html;">{exp:fbc:account_sync_form} content {/exp:fbc:account_sync_form}</pre>

<ul>
<li><a href="#parameters">Parameters</a></li>
<li><a href="#form_fields">Form Fields</a></li>
<li><a href="#examples">Examples</a></li>
</ul>

<p><a name="parameters"></a></p>

<h2>Parameters</h2>

<p>The following parameters are available for use:</p>

<ul>
<li><a href="#form_attribute">form:attribute</a></li>
<li><a href="#return_when_synced">return_when_synced</a></li>
<li><a href="#return_when_sync_fails">return_when_sync_fails</a></li>
<li><a href="#return_when_unsynced">return_when_unsynced</a></li>
</ul>

<p><a name="form"></a></p>

<h3>form:attribute=</h3>

<pre class="brush: html;">form:class="your_class"</pre>

<p>This parameter allows you to control any form attribute for the form in your template. Simply replace attribute with an attribute name such as <strong>id</strong>, <strong>name</strong>, <strong>class</strong>, etc, and specify a value for that attribute. You can specify this parameter multiple times to control as many attributes as necessary. This would normally be done to control your form with javascript or style it with CSS.</p>

<p><a name="return_when_synced"></a></p>

<h3>return_when_synced=</h3>

<pre class="brush: html;">return_when_synced="fbc/sync_success"</pre>

<p>If the account sync is successful, the user will be returned to this URL.</p>

<p><a name="return_when_sync_fails"></a></p>

<h3>return_when_sync_fails=</h3>

<pre class="brush: html;">return_when_sync_fails="fbc/sync_fail"</pre>

<p>If the account sync is unsuccessful, the user will be returned to this URL.</p>

<p><a name="return_when_unsynced"></a></p>

<h3>return_when_unsynced=</h3>

<pre class="brush: html;">return_when_unsynced="fbc/unsynced"</pre>

<p>If the account unsync is successful, the user will be returned to this URL.</p>

<p><a name="form_fields"></a></p>

<h2>Form Fields</h2>

<p>The following form fields are available for use (only use 1 per form):</p>

<ul>
<li><a href="#sync">sync</a></li>
<li><a href="#unsync">unsync</a></li>
</ul>

<p><a name="sync"></a></p>

<h3>sync</h3>

<pre class="brush: html;">&lt;input type="checkbox" name="sync" value="yes" /&gt;</pre>

<p>This form field should be submitted as <strong>yes</strong> if the user wants to confirm the syncing of their EE and Facebook accounts.</p>

<p><a name="unsync"></a></p>

<h3>unsync</h3>

<pre class="brush: html;">&lt;input type="checkbox" name="unsync" value="yes" /&gt;</pre>

<p>This form field should be submitted as <strong>yes</strong> if the user wants to remove the syncing of their EE and Facebook accounts.</p>

<p><a name="examples"></a></p>

<h2>Examples</h2>

<p><a name="confirm_account_sync"></a></p>

<h3>Confirm Account Sync</h3>

<p>The confirmation form allows you to explain the Facebook login process a little more and/or assists in login/registration flow for your site. <strong>This form cannot be accessed directly</strong> - it needs to be accessed from the user clicking the Facebook <a href="login.html">Login</a> button, which will return them to the template with this form (see <a href="login.html#return_to_confirm_account_sync">return_to_confirm_account_sync</a> parameter). The below example is how your Account Sync form might look:</p>

<pre class="brush: html;">{exp:fbc:account_sync_form
    return_when_synced="fbc/sync_success"
    return_when_sync_fails="fbc/sync_fail"
}
    &lt;p&gt;
        &lt;input type="checkbox" name="sync" id="sync" value="yes" /&gt;
        &lt;label for="sync"&gt;Yes, I'd like to sync my accounts&lt;/label&gt;
    &lt;/p&gt;
    &lt;p&gt;
        &lt;input type="submit" value="Submit" /&gt;
    &lt;/p&gt;
{/exp:fbc:account_sync_form}
</pre>

<p><a name="unsyncing_an_account"></a></p>

<h3>Unsyncing an Account</h3>

<p>If you wish to allow users to unsync your site from their Facebook account, you can use this approach. Once the user has unsynced their account, if they want to completely untie their account from your site, they'll still need to go to their <a href="https://www.facebook.com/settings?tab=applications">Apps area in Account Settings on Facebook</a> and remove your site from the list. It's recommended that you provide these instructions to the user on your site.</p>

<p>The below example is how your Account Unsyncing form might look (unlike the <a href="#confirm_account_sync">Confirm Sync form</a>, this form can/should be directly accessed):</p>

<pre class="brush: html;">{exp:fbc:account_sync_form
    return_when_unsynced="fbc/unsynced"
}
    &lt;p&gt;
        &lt;input type="checkbox" name="unsync" id="unsync" value="yes" /&gt;
        &lt;label for="unsync"&gt;Yes, I'd like to unsync my account&lt;/label&gt;
    &lt;/p&gt;
    &lt;p&gt;
        &lt;input type="submit" value="Submit" /&gt;
    &lt;/p&gt;
{/exp:fbc:account_sync_form}
</pre>
			</article>
		</div>

		<script src="assets/js/jquery.min.js"></script>
		<script src="assets/fancybox/jquery.fancybox-1.3.4.pack.js"></script>
		<script src="assets/syntaxhighlighter/scripts/shCore.js"></script>
		<script src="assets/syntaxhighlighter/scripts/shAutoloader.js"></script>
		<script src="assets/js/main.js"></script>
	</body>
</html>